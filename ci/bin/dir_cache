#!/bin/bash

if [ "$(type -t dir)" != "function" ]
then
    . "$(cd "$(dirname "${BASH_SOURCE[0]}")"; pwd)"/dir
fi

if [ "$(type -t os)" != "function" ]
then
    . "$(cd "$(dirname "${BASH_SOURCE[0]}")"; pwd)"/os
fi

if [ "$(type -t version)" != "function" ]
then
    . "$(cd "$(dirname "${BASH_SOURCE[0]}")"; pwd)"/version
fi

dir_cache() {
    OS="$(os "$@")"
    DIR="$(dir "$@")"
    VERSION="$(version "$@")"

    echo "${DIR}/cache/${VERSION}-${OS}"
}

if [[ "${BASH_SOURCE[0]}" == "${0}" ]]
then
    dir_cache "$@"
fi
